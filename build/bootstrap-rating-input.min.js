!function(a){a.fn.rating=function(){function b(b,c){var d=(c-Math.floor(c)).toFixed(2),e=Math.ceil(c);0!=d&&(e-=1);var g=a(b).find("[data-value="+c+"]");g.removeClass("fa-star-o").addClass("fa-star"),g.prevAll("[data-value]").removeClass("fa-star-o").addClass("fa-star"),g.nextAll("[data-value]").removeClass("fa-star").addClass("fa-star-o");var h=g.next("[data-value]"),i="fa-star-o";d>f.round.down&&(i="fa-star-half-o",d>f.round.up&&(i="fa-star")),h.removeClass("fa-star-o").addClass(i)}function c(b){var c=a(b);c.find("[data-value]").removeClass("fa-star").addClass("fa-star-o")}function d(a,b){a.val(b).trigger("change"),b===a.data("empty-value")?a.siblings(".rating-clear").hide():a.siblings(".rating-clear").show()}var e,f={round:{down:.25,up:.75}};for(e=this.length-1;e>=0;e--){var g,h,i=a(this[e]),j=i.data("max")||5,k=i.data("min")||0,l=i.data("clearable")||null,m="";for(h=k;j>=h;h++)m+=['<span class="fa fa-star-o" data-value="',h,'"></span>'].join("");l&&(m+=[' <a class="rating-clear" style="display:none;" href="javascript:void">','<span class="glyphicon glyphicon-remove"></span> ',l,"</a>"].join(""));var n=i.clone(!0).attr("type","hidden").data("max",j).data("min",k);g=['<div class="rating-input">',m,"</div>"].join(""),i.replaceWith(a(g).append(n))}a(".rating-input").on("mouseenter","[data-value]",function(){var c=a(this).closest(".rating-input").find(".rating"),d=c.data("readonly");if(!d){var e=a(this);b(e.closest(".rating-input"),e.data("value"))}}).on("mouseleave","[data-value]",function(){var d=a(this),e=d.siblings("input"),f=e.val(),g=e.data("min"),h=e.data("max");f>=g&&h>=f?b(d.closest(".rating-input"),f):c(d.closest(".rating-input"))}).on("click","[data-value]",function(b){var c=a(this).closest(".rating-input").find(".rating"),e=c.data("readonly");if(!e){var f=a(this),g=f.data("value"),h=f.siblings("input");return d(h,g),b.preventDefault(),!1}}).on("click",".rating-clear",function(b){var e=a(this),f=e.siblings("input");return d(f,f.data("empty-value")),c(e.closest(".rating-input")),b.preventDefault(),!1}).each(function(){var d=a(this).find("input"),e=d.val(),f=d.data("min"),g=d.data("max");""!==e&&+e>=f&&g>=+e?(b(this,e),a(this).find(".rating-clear").show()):(d.val(d.data("empty-value")),c(this))})},a(function(){a("input.rating[type=number]").length>0&&a("input.rating[type=number]").rating()})}(jQuery);